---
title: "Syntax Basics"
description: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla dapibus consectetur nisl, non ultrices metus pulvinar ut. Nullam hendrerit, magna et congue ullamcorper, mauris risus pulvinar ante, quis consequat mi sapien porttitor massa."
status: 'Live'
flavor: 'Deck'
---

# Syntax Basics

---

### Goals

1. Lorem
2. Ipsum
3. Sic

---

### Roadmap

1. Overview
2. Variables
3. Primitives
4. Strings
5. Enums
6. Comments
7. `null`

---




## Overview

---

### 30,000 Feet

- **Variables** Declared using the `type name` syntax. e.g. `int count = 4;`
- **Control Flow** Standard stuff: `if`/`then`/`else`, `switch`, `for`, `while`
- **Classes and Objects** : Classes are types, objects are instances

---

### Shortest Program Ever!

- **Type** `Console`
- **Operator** Dot. Invokes a method.
- **Method** `WriteLine` (It's static.)
- **Argument** `"Hello, World!"` (It's a string.)
- **Line terminator** Mandatory semicolon.

```csharp
Console.WriteLine("Hello, World!");
```

---

### Introducing Variables

- Variable is created and initialized on one line.
- Reference is passed to the method.

#### **Second** Sortest Program Ever!

```csharp
string message = "Hello, World!";
Console.WriteLine(message);
```

---

### About `var`

* [Implicitly typed local variables](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/var) introduced in C# 3.0
* Compiler infers type from initialization expression
* **Benefits**: Concise, handles complex generic types, supports anonymous types
* **Tradeoffs**: Can reduce code readability, may hide type information
* **Best practice**: Use when type is obvious from context

---

### Examples


```csharp title='HelloVar.cs' {1}
var message = "Hello, World!";
Console.WriteLine(message);
```


```csharp title='Example.cs'
var message = "Hello";  // string
var numbers = new List<int>();  // List<int>
var point = new { X = 1, Y = 2 };  // Anonymous type
```

---




## Primitives

---

### Overview

- Built into the language
- Have a language keyword
- e.g.
  - `int` is a language keyword
  - `System.Int32` is the built-in type

---

### Catalog

- **Boolean**
  - Keyword: `bool`
- **Integrals**
  - **Signed** `sbyte`, `ushort`, `int`, `long`
  - **Unsigned** `byte`, `ushort`, `uint`, `ulong`
- **Floating Point**
  - `float`, `double`, `decimal` (sort of)

---

### Ints

| Type     | Signed                             | Bits | Range                                            |
| :------- | :--------------------------------- | :--- | :----------------------------------------------- |
| `sbyte`  | <span style="color:green">✓</span> | 8    | `-128` to `127`                                  |
| `byte`   | <span style="color:red">✗</span>   | 8    | `0` to `255`                                     |
| `short`  | <span style="color:green">✓</span> | 16   | `-32768` to `32767`                              |
| `ushort` | <span style="color:red">✗</span>   | 16   | `0` to `65,535`                                   |
| **`int`**    | <span style="color:green">✓</span> | 32   | `-2,147,483,648` to `2,147,483,647`                    |
| `uint`   | <span style="color:red">✗</span>   | 32   | 0 to 4.3 × 10<sup>9</sup>                        |
| `long`   | <span style="color:green">✓</span> | 64   | -9.2 × 10 <sup>18</sup> to 9.2 × 10<sup>18</sup> |
| `ulong`  | <span style="color:red">✗</span>   | 64   | 0 to 1.8 × 10<sup>19</sup>                       |

---

### Everything else

| Type      | Signed                             | Bits | Range                  |
| :-------- | :--------------------------------- | :--- | :--------------------- |
| `float`   | <span style="color:green">✓</span> | 32   | ±1.5e-45 to ±3.4e+38   |
| `double`  | <span style="color:green">✓</span> | 64   | ±5.0e-324 to ±1.8e+308 |
| `decimal` | <span style="color:green">✓</span> | 128  | ±1.0e-28 to ±7.9e+28   |

---

### [Char](https://learn.microsoft.com/en-us/dotnet/api/system.char?view=net-9.0)

- Keyword: `char`
- UTF-16
- Value type
- Delimit with single ticks-- **`'`**

```csharp
char middleInitial = 'J';

```

---




## Strings

---

### [System.String](https://learn.microsoft.com/en-us/dotnet/api/system.string?view=net-9.0)

- Sequence of UTF-16 code units.
- **Immutable** -- i.e. can't be changed after creation
- **Reference type**, _usually_ with value type semantics
- [Flyweight pattern](https://en.wikipedia.org/wiki/Flyweight_pattern)
- **Best Practice:** Avoid too many concatentations (like more than 1000)

---

### Creating Strings

- Delimit with `"`
- Concat with `+`

```csharp
string greeting = "Hello";
char[] targetChars = new char[] { 'W', 'o', 'r', 'l', 'd' };
string target = new string(targetChars);

string message = greeting + ", " + target + "!";
Console.WriteLine(message);

```

---

### Strings are Collections

- They're iterable
- They're indexable-- `[]`
  - Zero-based

```csharp
string message = "Respect";

foreach(char c in message)
{
    Console.WriteLine(c);
}
Console.WriteLine("Find out what it means to me!");
```

---

### Quiz: What's the output?

```csharp
void Exclaim(string message){
    message += "!";
}

string message = "Hello, World";
Exclaim(message);
Console.WriteLine(message);

```

---

### Concatentations

- **Remember** strings are immutable
- Concatenation doesn't mutate; it reallocates
- Use [StringBuilder](https://learn.microsoft.com/en-us/dotnet/api/system.text.stringbuilder?view=net-9.0) if you have to do a lot of concatenations

---

### Example

```csharp

string message = "Hello";
char[] targetChars = new char[] { 'W', 'o', 'r', 'l', 'd' };

message += ", ";
for (int i = 0; i < targetChars.Length; i++)
{
    message += targetChars[i];
}

message += "!";

Console.WriteLine(message);

```

---

### String Interpolation

* [String interpolation](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated) introduced in C# 6.0
* Replaces string concatenation with cleaner syntax
* Uses `$` prefix and `{}` for expressions
* Supports:
  - **Simple variables**: `$"Hello {name}"`
  - **Complex expressions**: `$"Count: {items.Count + 1}"`
  - **Format specifiers**: `$"Price: {price:C2}"`
* More readable than `string.Format()` or concatenation

---

### Raw String Literals

* [Raw string literals](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/raw-string) introduced in C# 11
* Preserves whitespace and line breaks
* No need to escape quotes or backslashes
* Common use cases:
  - JSON/XML/HTML templates
  - SQL queries
  - File paths
  - Multi-line strings
* Syntax: Three double quotes
  - i.e. `$"""..."""` with optional `$` for interpolation

---

### Example

```csharp title='RawString.cs'
class Person{
  public string Name { get; set; }
  public int Age { get; set; }

  public string ToJson() => """
{
    "name": {Name},
    "age": {Age}
}
""";
}
Console.WriteLine(json);
```

---



## Enumerations

---

### [Overview](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum)

* [Enumeration type](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum) maps labels to integral values
* Provides type safety over magic numbers/strings
* Can be [signed or unsigned](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum#enumeration-types-as-bit-flags)
* Supports [bit flags](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum#enumeration-types-as-bit-flags) with `[Flags]` attribute
* Values can be [explicitly specified](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum#enumeration-types-as-bit-flags)
* Best practice: Use for fixed sets of related values

---

### Motivating Example #1
* Booleans aren't extensible

```csharp {3}
public class Login{
    string username = "";
    bool isActive = false; // TODO: Support Paused / Suspended
}
```

---

### Motivating Example #2

* Magic constants are easy to forget, easy to mess up
```csharp {3}
public class Login{
    string username = "";
    int statusCode = 22; //What's this?
}
```


---

### Example

```csharp {8}
enum Status{
  Active,
  Paused,
  Suspended
}
public class Login{
    string username = "";
    Status MyStatus = Status.Active;
}
````

---

### Example 2: Colors

```csharp title='ColorWavelengths.cs'
enum ColorWavelength {
    Red = 700,
    Orange = 600,
    Yellow = 580,
    Green = 550,
    Blue = 470,
    Violet = 400
}

public string GetColorInfo(ColorWavelength color) =>
    $"{color} light has a wavelength of {(int)color}nm";

```

---




## Comments

---

### Overview
* Explain 'why' behind the code in more complex functions
* Guidelines:
  - Prefer sensible names over comments
  - Don't comment stupid stuff
  - Remove dead code; don't comment it out

---

### Meme

<figure style='width:85%'>
![Image sans description.](assets/comments-meme.png)
</figure>

---

### Block Comments
* Used for multi-line comments
* Exactly like JavaScript / TypeScript / C++ / Java
```csharp
/*
 I'm commented out
*/

```

---

### Inline Comments
* Used for single-line comments
* Exactly like JavaScript / TypeScript / C++ / Java
* Tip: Use **Ctrl + /** to toggle comments

```csharp
//
//  I'm commented out
//
```

---

### XML Comments
* Three slashes: `///`
* Used by tooling like Intellisense

```csharp
/// <summary>
/// Lorem ipsum dolor sit amet, consectetur adipiscing elit.
/// </summary>
/// <remarks>
/// Lorem ipsum dolor sit amet, consectetur adipiscing elit.
/// </remarks>
public class Person{ /* etc...*/}
```
---

### Popular Elements
* [`<summary>`](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags) - Brief description
* [`<param>`](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags#param) - Describes a method parameter
* [`<returns>`](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags#returns) - Describes the return value
* [`<exception>`](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags#exception) - Exceptions a method may throw
* [`<remarks>`](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags#remarks) - Additional information
* [`<example>`](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags#example) - Code examples for a type


--- 





## All about `null`

---

### Overview
* [Null](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/null) represents absence of a value
* Reference types can be `null` by default
* Value types cannot be `null` by default
* Common source of runtime errors ([`NullReferenceException`](https://learn.microsoft.com/en-us/dotnet/api/system.nullreferenceexception))
* Modern C# has [null reference types](https://learn.microsoft.com/en-us/dotnet/csharp/nullable-references) to catch issues at compile time
* Best practice: Initialize fields in constructors, use null checks

---

### Use Case: Missing Value
* Represents absence of a value
* Common in APIs: Database records, web service responses, user inputs

---

### Example: User Service
```csharp {11}
public class UserService{
    private User[] users = new User[] {
      new User("John", "Doe"),
      new User("Jane", "Doe"),
    };
    public User? GetUserByGivenName(string givenName){
      foreach(User user in users){
        if(user.GivenName == givenName)
          return user;
      }
      return null;
    }
}
```

---

### Modern C#
* [Nullable reference types](https://learn.microsoft.com/en-us/dotnet/csharp/nullable-references) catch null issues at compile time
* `?` indicates a value might be null:
  - `string?` - nullable string
  - `User?` - nullable User object
* Enable in project file: `<Nullable>enable</Nullable>`
* Compiler enforces null checks and warnings
* Helps prevent `NullReferenceException` at runtime



---

### Operator: `?`
* [Null-conditional operator](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/member-access-operators#null-conditional-operators--and-) (`?.`)
* Safe way to access properties/methods of nullable types
* Returns `null` if the left operand is `null`
* Also available as `?[]` for array/list access
* Can be chained: `user?.Address?.Street`

---

### Operator: `??`
* [Null-coalescing operator](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-coalescing-operator) (`??`)
* Returns the left operand if it's not `null`, otherwise the right operand
* Useful for providing defaults

---

### Example: User Service Client
```csharp {8}
public class UsersController{
  private readonly UserService userService;

  public UsersController(UserService userService)
    => this.userService = userService;
  
  public User GetUser(string username){
    => userService.GetUser(username) ?? User.Anonymous;
  }
}
```

---

### Best Practices
* Enable [nullable reference types](https://learn.microsoft.com/en-us/dotnet/csharp/nullable-references) in project file
* Initialize fields in constructors
* Use [null-conditional operator](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/member-access-operators#null-conditional-operators--and-) (`?.`) for safe access
* Use [null-coalescing operator](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-coalescing-operator) (`??`) for defaults
* Validate arguments with [null checks](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/is)
* Consider using [required](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/required) keyword for non-null properties

---

### Billion Dollar Mistake

<figure class='bc-framed-image' style='width:25%;height:auto;'>
![Image sans description.](assets/Sir_Tony_Hoare_IMG_5125.jpg)
<figcaption>
  By Photograph by Rama, Wikimedia Commons, Cc-by-sa-2.0-fr, CC BY-SA 2.0 fr, https://commons.wikimedia.org/w/index.php?curid=15568323
</figcaption>
</figure>

* [Tony Hoare](https://en.wikipedia.org/wiki/Tony_Hoare) introduced null references in ALGOL W (1965)
* Called it his ["billion-dollar mistake"](https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare/)
* Null references cause:
  - Runtime errors 
  - Defensive programming overhead
  - Complex null-checking logic

---

### My Approach
#### Belt and braces
1. Use nullable reference types
  - Turn on [nullable context](https://learn.microsoft.com/en-us/dotnet/csharp/nullable-references#nullable-context)
2. [Treat warnings as errors](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/compiler-options/errors-warnings#treatwarningsaserrors)
3. Check for nulls obsessively
